#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const aws_cdk_lib_1 = require("aws-cdk-lib");
const cdk_stack_1 = require("./cdk-stack");
const app = new aws_cdk_lib_1.App();
const envName = app.node.tryGetContext('env');
const namespace = app.node.tryGetContext('namespace')
    ? `-${app.node.tryGetContext('namespace')}`
    : '';
const envConfigs = app.node.tryGetContext(envName);
const stackName = `${process.env.CDK_STACK_NAME_PREFIX}-backend-${envName}${namespace}`;
const stack = new cdk_stack_1.CDKStack(app, stackName, {
    envName,
    namespace,
    envConfigs,
});
aws_cdk_lib_1.Tags.of(stack).add('Environment', envName);
aws_cdk_lib_1.Tags.of(stack).add('Owner', 'PayQAM');
aws_cdk_lib_1.Tags.of(stack).add('SupportGroup', 'IT');
aws_cdk_lib_1.Tags.of(stack).add('Name', stackName);
aws_cdk_lib_1.Tags.of(stack).add('Client', 'Shared');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBcUM7QUFDckMsNkNBQXdDO0FBQ3hDLDJDQUF1QztBQVF2QyxNQUFNLEdBQUcsR0FBRyxJQUFJLGlCQUFHLEVBQUUsQ0FBQztBQUN0QixNQUFNLE9BQU8sR0FBVyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN0RCxNQUFNLFNBQVMsR0FBVyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUM7SUFDM0QsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLEVBQUU7SUFDM0MsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUNQLE1BQU0sVUFBVSxHQUFjLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBRTlELE1BQU0sU0FBUyxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsWUFBWSxPQUFPLEdBQUcsU0FBUyxFQUFFLENBQUM7QUFFeEYsTUFBTSxLQUFLLEdBQUcsSUFBSSxvQkFBUSxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUU7SUFDekMsT0FBTztJQUNQLFNBQVM7SUFDVCxVQUFVO0NBQ1gsQ0FBQyxDQUFDO0FBRUgsa0JBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMzQyxrQkFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3RDLGtCQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDekMsa0JBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztBQUN0QyxrQkFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxuaW1wb3J0ICdzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXInO1xuaW1wb3J0IHsgQXBwLCBUYWdzIH0gZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0IHsgQ0RLU3RhY2sgfSBmcm9tICcuL2Nkay1zdGFjayc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW52Q29uZmlnIHtcbiAgQ0RLX0FDQ09VTlQ6IHN0cmluZztcbiAgQ0RLX1JFR0lPTjogc3RyaW5nO1xuICBMT0dfTEVWRUw6ICdERUJVRycgfCAnSU5GTycgfCAnV0FSTicgfCAnRVJST1InO1xufVxuXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5jb25zdCBlbnZOYW1lOiBzdHJpbmcgPSBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdlbnYnKTtcbmNvbnN0IG5hbWVzcGFjZTogc3RyaW5nID0gYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnbmFtZXNwYWNlJylcbiAgPyBgLSR7YXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnbmFtZXNwYWNlJyl9YFxuICA6ICcnO1xuY29uc3QgZW52Q29uZmlnczogRW52Q29uZmlnID0gYXBwLm5vZGUudHJ5R2V0Q29udGV4dChlbnZOYW1lKTtcblxuY29uc3Qgc3RhY2tOYW1lID0gYCR7cHJvY2Vzcy5lbnYuQ0RLX1NUQUNLX05BTUVfUFJFRklYfS1iYWNrZW5kLSR7ZW52TmFtZX0ke25hbWVzcGFjZX1gO1xuXG5jb25zdCBzdGFjayA9IG5ldyBDREtTdGFjayhhcHAsIHN0YWNrTmFtZSwge1xuICBlbnZOYW1lLFxuICBuYW1lc3BhY2UsXG4gIGVudkNvbmZpZ3MsXG59KTtcblxuVGFncy5vZihzdGFjaykuYWRkKCdFbnZpcm9ubWVudCcsIGVudk5hbWUpO1xuVGFncy5vZihzdGFjaykuYWRkKCdPd25lcicsICdQYXlRQU0nKTtcblRhZ3Mub2Yoc3RhY2spLmFkZCgnU3VwcG9ydEdyb3VwJywgJ0lUJyk7XG5UYWdzLm9mKHN0YWNrKS5hZGQoJ05hbWUnLCBzdGFja05hbWUpO1xuVGFncy5vZihzdGFjaykuYWRkKCdDbGllbnQnLCAnU2hhcmVkJyk7XG4iXX0=